{% set flags = {
    capture: type in ['auth'] and is_captured == false and is_refunded == false and is_voided == false,
    refund: type in ['capture', 'sale'] and is_error == false and is_refunded == false and is_voided == false,
    void: type in ['auth'] and is_captured == false and is_refunded == false and is_voided == false
} %}

<div class="btn-group">
    <button type="button" class="btn btn-secondary btn-sm dropdown-toggle text-nowrap" data-toggle="dropdown" aria-expanded="false">
        Options
    </button>

    <div class="dropdown-menu dropdown-menu-right">
        <h6 class="dropdown-header">Actions</h6>

        <a class="dropdown-item" href="#" data-action="view">
            <i class="fa-light fa-search fa-fw"></i> View
        </a>

        <a class="dropdown-item {{ not flags.capture ? 'disabled' }}" href="#" data-action="capture">
            <i class="fa-light fa-check-square fa-fw"></i> Capture
        </a>

        <a class="dropdown-item {{ not flags.refund ? 'disabled' }}" href="#" data-action="refund">
            <i class="fa-light fa-redo fa-flip-horizontal fa-fw"></i> Refund
        </a>

        <a class="dropdown-item {{ not flags.void ? 'disabled' }}" href="#" data-action="void">
            <i class="fa-light fa-ban fa-fw"></i> Void
        </a>
    </div>
</div>